import { RequestOptions } from '@elog/shared';
import { ListedPostList, CategoryList, Category, TagList, Tag, AttachmentList, Attachment, Content, Post, PostRequest, Policy } from '@halo-dev/api-client';
export { Content, Post, PostRequest, PostSpecVisibleEnum } from '@halo-dev/api-client';

interface HaloConfig {
    endpoint: string;
    token: string;
    policyName?: string;
    groupName?: string;
}

declare class HaloClient {
    config: HaloConfig;
    constructor(config: HaloConfig);
    /**
     * send api request to yuque
     * @param api
     * @param reqOpts
     */
    request<T>(api: string, reqOpts: RequestOptions): Promise<T>;
    /**
     * 获取文档列表
     */
    getPostList(): Promise<ListedPostList>;
    /**
     * 获取Categories列表
     */
    getCategories(): Promise<CategoryList>;
    /**
     * 新增分类
     */
    createCategory(params: Category): Promise<Category>;
    /**
     * 获取Tags列表
     */
    getTags(): Promise<TagList>;
    /**
     * 新增分类
     */
    createTag(params: Tag): Promise<Tag>;
    /**
     * 获取附件列表
     */
    getAttachments(): Promise<AttachmentList>;
    /**
     * 获取单个附件
     */
    getAttachment(name: string): Promise<Attachment>;
    /**
     * 上传附件
     */
    uploadAttachment(buffer: Buffer, filename: string): Promise<Attachment>;
    /**
     * 更新单篇文档内容
     */
    updatePostContent(docId: string, params: Content): Promise<Content>;
    /**
     * 更新单篇文档内容
     */
    updatePostInfo(docId: string, params: Post): Promise<Post>;
    /**
     * 新增文档
     */
    createPost(params: PostRequest): Promise<PostRequest>;
    /**
     * 发布文档
     */
    publishPost(docId: string): Promise<Post>;
    /**
     * 取消发布文档
     */
    unpublishPost(docId: string): Promise<Post>;
    getPolicy(): Promise<Policy>;
    /**
     * 获取附件链接
     * @param name
     */
    getAttachmentPermalink(name: string): Promise<string>;
}

export { HaloConfig, HaloClient as default };
